<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>é«˜ç§‘æµ·è³‡ç³»ç‰¹ç´„åº—å®¶åœ°åœ–</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <style>
    #map { height: 100vh; }
    body { margin: 0; font-family: sans-serif; }
    h1 {
      position: relative;
      z-index: 999;
      background-color: rgba(255,255,255,0.8);
      padding: 10px;
      border-radius: 8px;
      margin: 0;
    }
    #controls {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 999;
      background-color: rgba(255, 255, 255, 0.9);
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    #storeList a {
      display: block;
      margin: 5px 0;
      color: #007bff;
      text-decoration: none;
    }
    #storeList a:hover {
      text-decoration: underline;
    }
    #searchInput {
      width: 200px;
      padding: 5px;
      margin-bottom: 8px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1>é«˜ç§‘æµ·è³‡ç³»ç‰¹ç´„åº—å®¶åœ°åœ–</h1>
  <div id="controls">
    <input type="text" id="searchInput" placeholder="æœå°‹åº—å...">
    <div id="storeList"></div>
  </div>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script>
    const map = L.map('map').setView([22.6075, 120.2727], 16);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors'
    }).addTo(map);

    const stores = [
      {
        name: "å±±æ°´æ—©é¤åº—",
        address: "é«˜é›„å¸‚æ——æ´¥å€ä¸­æ´²ä¸‰è·¯579è™Ÿ",
        lat: 22.607608376992868,
        lng: 120.27266116806359,
        offer: "ä¸»é¤+é£²å“(å¤§æ¯)æŠ˜åƒ¹5å…ƒ ðŸ¥ªðŸ§ƒ"
      },
      {
        name: "é˜¿æ°´ä¼¯ç´…èŒ¶ç‰›å¥¶",
        address: "é«˜é›„å¸‚æ——æ´¥å€ä¸­æ´²ä¸‰è·¯597è™Ÿ",
        lat: 22.607757769643015,
        lng: 120.27260340075009,
        offer: "å…¨å“é …æŠ˜5å…ƒ ðŸ§‹ðŸ§¸"
      },
      {
        name: "æ——æ´¥å¤æ—©å‘³é™½æ˜¥éºµ",
        address: "é«˜é›„å¸‚æ——æ´¥å€ä¸­æ´²ä¸‰è·¯651è™Ÿ",
        lat: 22.60973683485275, 
        lng: 120.2712220116006,
        offer: "æ¶ˆè²»100æŠ˜5å…ƒ ðŸœðŸ’°"
      },
      {
        name: "äº”å§¨è‡­è‡­é‹",
        address: "é«˜é›„å¸‚æ——æ´¥å€ä¸­æ´²ä¸‰è·¯655è™Ÿ",
        lat: 22.609774691077337,
        lng: 120.2712206939175,
        offer: "ç«é‹æŠ˜10å…ƒðŸ² é‹ç‡’/ç‚’éºµ/é£¯é¡žæŠ˜5å…ƒ ðŸ³ðŸš"
      },
      {
        name: "ç‘‹æ ¼å…ˆç”Ÿæ—©åˆé¤",
        address: "é«˜é›„å¸‚æ——æ´¥å€ä¸­æ´²ä¸‰è·¯765è™Ÿ",
        lat:22.61193037423174,
        lng: 120.26983649399831,
        offer: "æ¶ˆè²»æ»¿100æŠ˜5å…ƒ ðŸ¥“ðŸ¥¤"
      },
      {
        name: "é˜¿å®å£½å¸",
        address: "é«˜é›„å¸‚æ——æ´¥å€é€šå±±è·¯7è™Ÿ",
        lat:22.612920388826435,
        lng: 120.26921444188898,
        offer: "å…¨å“é …æŠ˜5å…ƒ ðŸ£ðŸŸ"
      },
      {
        name: "è¬å¤šåˆ©ç”Ÿé­šç‰‡",
        address: "å±æ±ç¸£æ±æ¸¯éŽ®æ±æ¸¯é­šå¸‚å ´å…§ï¼ˆè¯åƒ‘å¸‚å ´æ—é‚Šï¼‰",
        lat:22.46798879751026,
        lng: 120.44052986701199,
        offer: "é®­é­š/é®ªé­š/æ——é­š æ“‡ä¸€å¤š5ç‰‡ ðŸ ðŸ¥"
      }
    ];

    const markers = [];

    stores.forEach((store, index) => {
      const marker = L.marker([store.lat, store.lng])
        .addTo(map)
        .bindPopup(`<b>${store.name}</b><br>${store.address}<br><br><i>${store.offer}</i>`);

      markers.push(marker);

      const storeLink = document.createElement('a');
      storeLink.href = '#';
      storeLink.innerText = store.name;
      storeLink.onclick = () => {
        map.setView([store.lat, store.lng], 18);
        marker.openPopup();
      };
      document.getElementById('storeList').appendChild(storeLink);
    });

    document.getElementById('searchInput').addEventListener('input', function () {
      const keyword = this.value.toLowerCase();
      const storeList = document.getElementById('storeList');
      storeList.innerHTML = '';

      stores.forEach((store, index) => {
        if (store.name.toLowerCase().includes(keyword)) {
          const storeLink = document.createElement('a');
          storeLink.href = '#';
          storeLink.innerText = store.name;
          storeLink.onclick = () => {
            map.setView([store.lat, store.lng], 18);
            markers[index].openPopup();
          };
          storeList.appendChild(storeLink);
        }
      });
    });
  </script>
</body>
</html>
